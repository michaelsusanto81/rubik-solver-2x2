<?xml version="1.0"?>
<!DOCTYPE html>

<html xmlns:pwp="http://www.cs.otago.ac.nz/staffpriv/ok/pwp.pl">
<head>
	<title>Rubiks 2x2</title>
	<style type="text/css">
		img {
			width: 200px;
		}
		.container {
			display: flex;
			flex-flow: column wrap;
			margin: 30px 20px;
			justify-content: space-around;
			align-content: center;
			align-items: center;
		}
		button {
			width: 100px;
			height: 40px;
			font-size: 16px;
			color: #0a6600;
			border: 1px solid #0a6600;
			border-radius: 10%;
			background-color: white;
		}
		button:hover {
			color: white;
			background-color: #0a6600;
			cursor: pointer;
			transition: 200ms;
		}
		#restart {
			width: 100px;
			height: 40px;
			font-size: 16px;
			color: red;
			border: 1px solid red;
			border-radius: 10%;
			background-color: white;
		}
		#restart:hover {
			color: white;
			background-color: red;
			cursor: pointer;
			transition: 200ms;
		}
		ul {
			list-style: none;
			display: flex;
			flex-flow: row wrap;
			justify-content: space-around;
		}
		li {
			margin: 10px 15px;
		}
		a {
			margin: 10px auto;
		}
		#hint {
			display: none;
		}
		#loader {
		  position: absolute;
		  left: 50%;
		  top: 50%;
		  z-index: 1;
		  width: 150px;
		  height: 150px;
		  margin: -75px 0 0 -75px;
		  border: 16px solid #f3f3f3;
		  border-radius: 50%;
		  border-top: 16px solid #0a6600;
		  width: 120px;
		  height: 120px;
		  -webkit-animation: spin 2s linear infinite;
		  animation: spin 2s linear infinite;
		  display: none;
		}
		#loaderText {
			display: none;
			justify-content: center;
			position: absolute;
			left: 50%;
			top: 20%;
			right: 50%;
			margin-left: -160px;
			margin-top: 80px;
		}
		@-webkit-keyframes spin {
		  0% { -webkit-transform: rotate(0deg); }
		  100% { -webkit-transform: rotate(360deg); }
		}
		@keyframes spin {
		  0% { transform: rotate(0deg); }
		  100% { transform: rotate(360deg); }
		}
	</style>
</head>
<body>	
	<div class="container" pwp:ask="turn(Remaining)">
		<h1>Rubiks 2x2</h1>
		<h2>Turn(s) remaining: 
			<span pwp:use="Remaining"></span>
		</h2>
		<div>CUBE DISPLAY</div>
		<ul>
			<li>
				<a href="/front">
					<button onclick="loading()">Front</button>
				</a>
			</li>
			<li>
				<a href="/top">
					<button onclick="loading()">Top</button>
				</a>
			</li>
			<li>
				<a href="/right">
					<button onclick="loading()">Right</button>
				</a>
			</li>
		</ul>
		<ul>
			<li>
				<a href="/undo">
					<button onclick="loading()">Undo</button>
				</a>
			</li>
			<li>
				<a href="#">
					<button onclick="showHint()">Hint</button>
				</a>
				<div id="hint" pwp:ask="hint(Hint)">
					<h4>Hint: 
						<span pwp:use="Hint"></span>
					</h4>
				</div>
			</li>
			<li>
				<a href="/restart">
					<button id="restart">Restart</button>
				</a>
			</li>
		</ul>
	</div>
	<div class="container" pwp:ask="\+turn(Remaining)">
		<h1>Rubiks 2x2</h1>
		<h2>Congratulations! You solved the cube!</h2>
		<div>CUBE DISPLAY</div>
		<a href="/start">
			<button>Play Again</button>
		</a>
	</div>
	<div id="loaderText">
		<h2>Preparing next state and hints . . .</h2>
	</div>
	<div id="loader"></div>
	<script>
		function showHint() {
			document.getElementById("hint").style.display = "flex";
		}
		function loading() {
			document.getElementsByClassName("container")[0].style.display = "none";
			document.getElementById("loader").style.display = "flex";
			document.getElementById("loaderText").style.display = "table";
		}
	</script>
</body>
</html>